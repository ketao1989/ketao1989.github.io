<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ketao1989.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"default"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":{"gitalk":{"order":-2}},"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="本文来自12月份对于风控的数据质量建设的一些思考和规划。由于业务战略的变化调整，不再继续建设，也无法通过实践来验证。不过，一些大数据指标方面的质量保障建设体系思考，我觉得还是有价值的，算是抛砖引玉了。  一、背景在风控整体架构体系中，主要涉及平台能力和特征数据。平台能力，主要关注，规则引擎、处置审核等，风控策略运营都是基于这些平台能力来对所有风险事件进行决策、拦截、处罚、事后追偿等，是风控对外的">
<meta property="og:type" content="article">
<meta property="og:title" content="风控特征中心数据质量建设的思考">
<meta property="og:url" content="https://ketao1989.github.io/2022/02/05/2022-02-05-think-ablout-risk-data-quality-assure/index.html">
<meta property="og:site_name" content="没有期望的分布">
<meta property="og:description" content="本文来自12月份对于风控的数据质量建设的一些思考和规划。由于业务战略的变化调整，不再继续建设，也无法通过实践来验证。不过，一些大数据指标方面的质量保障建设体系思考，我觉得还是有价值的，算是抛砖引玉了。  一、背景在风控整体架构体系中，主要涉及平台能力和特征数据。平台能力，主要关注，规则引擎、处置审核等，风控策略运营都是基于这些平台能力来对所有风险事件进行决策、拦截、处罚、事后追偿等，是风控对外的">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ketao1989.github.io/images/2022/data/20211123193610.png">
<meta property="og:image" content="https://ketao1989.github.io/images/2022/data/20211123194920.png">
<meta property="og:image" content="https://ketao1989.github.io/images/2022/data/20211123195723.png">
<meta property="og:image" content="https://ketao1989.github.io/images/2022/data/20211124170016.png">
<meta property="og:image" content="https://ketao1989.github.io/images/2022/data/20211124171311.png">
<meta property="og:image" content="https://ketao1989.github.io/images/2022/data/20211125095409.png">
<meta property="article:published_time" content="2022-02-05T05:09:00.000Z">
<meta property="article:modified_time" content="2022-02-05T05:27:08.552Z">
<meta property="article:author" content="柯小小西">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ketao1989.github.io/images/2022/data/20211123193610.png">

<link rel="canonical" href="https://ketao1989.github.io/2022/02/05/2022-02-05-think-ablout-risk-data-quality-assure/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>风控特征中心数据质量建设的思考 | 没有期望的分布</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a1fa00c4b9eadffbe9a1316cc5e43d91";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">没有期望的分布</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">柯小西-技术博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

      
    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ketao1989.github.io/2022/02/05/2022-02-05-think-ablout-risk-data-quality-assure/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ava.gif">
      <meta itemprop="name" content="柯小小西">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="没有期望的分布">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          风控特征中心数据质量建设的思考
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-02-05 13:09:00 / 修改时间：13:27:08" itemprop="dateCreated datePublished" datetime="2022-02-05T13:09:00+08:00">2022-02-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/risk/" itemprop="url" rel="index"><span itemprop="name">risk</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/risk/%E6%95%B0%E6%8D%AE/" itemprop="url" rel="index"><span itemprop="name">数据</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>10k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>本文来自12月份对于风控的数据质量建设的一些思考和规划。由于业务战略的变化调整，不再继续建设，也无法通过实践来验证。不过，一些大数据指标方面的质量保障建设体系思考，我觉得还是有价值的，算是抛砖引玉了。</p>
</blockquote>
<h1 id="一、背景"><a href="#一、背景" class="headerlink" title="一、背景"></a>一、背景</h1><p>在风控整体架构体系中，主要涉及平台能力和特征数据。平台能力，主要关注，规则引擎、处置审核等，风控策略运营都是基于这些平台能力来对所有风险事件进行决策、拦截、处罚、事后追偿等，是风控对外的能力提现。而对于特征数据，则是需要给能力平台的各个关键节点提供数据支撑，如果数据质量出现问题，则同样会影响整个风控最终结果的质量。</p>
<p>对于平台能力的质量测试，和业务测试无差别，因此，其有着丰富的理论经验和实践工具支撑。但是，和能力平台测试不同，关于数据指标的测试，首先存在实践经验的不丰富，之前的测试主要重点在于业务流程测试，对于大数据的测试理论和实践比较缺失；其次，大数据理论本身发展也非常快，同时大数据体系也比较新，每个公司、每个业务对于大数据的建设都存在多少的不一致，进而影响外部分享的数据质量测试方法在风控数据内部的落地；再次，大数据的指标测试由于数据大，可能涉及的依赖数据表较多，并且大多数表都来自各个业务方，需要从上到下去构造数据测试，成本非常大，得不偿失；最后，也是最重要的，风控特征中心是业务中的大数据，其对于大数据的指标生产和使用场景的特殊性，决定了数据质量建设的复杂性。</p>
<p>随着，风控业务的不断发展，对数据指标的需求也不断增多，指标的重要性也不断凸显。在长期对数据指标生产的测试迭代，运行过程中的问题发现和解决，的进程中，会有各种各样基于各个点的思考、梳理和经验产出，但是，还是缺少一些体系化的方法论总结，使得，始终无法总览数据质量治理全局。</p>
<p>因此，本文期望可以对于数据质量的测试和建设，进行体系化的去思考梳理，能够产出一个包含全链路的数据质量治理方法论。</p>
<span id="more"></span>

<h1 id="二、数据质量定义"><a href="#二、数据质量定义" class="headerlink" title="二、数据质量定义"></a>二、数据质量定义</h1><p>当我们将如何做数据质量建设之前，我们需要首先明确什么是数据质量。</p>
<p>所谓<code>质量</code>，在<code>ISO8402</code>中对于质量的定义：反映实体满足明确或隐含需要能力的特性总和。那么<code>数据质量</code>，就是在定义中的实体，这里特指为数据。</p>
<p>那么，一个指标数据需要具备的能力特性，具备哪些？最基础的: 及时性、完整性、准确性。<a target="_blank" rel="noopener" href="https://www.infoq.cn/article/i43wnda1o6igppzvv*el">对数据测试的系统性思考：“做好大数据测试，我是认真的！”</a></p>
<h2 id="2-1-数据质量之基础特性"><a href="#2-1-数据质量之基础特性" class="headerlink" title="2.1 数据质量之基础特性"></a>2.1 数据质量之基础特性</h2><h3 id="2-1-1-数据及时性"><a href="#2-1-1-数据及时性" class="headerlink" title="2.1.1 数据及时性"></a>2.1.1 数据及时性</h3><p>所谓数据及时性，就是数据要按时产出，或者说在预期时间内产出。不管是实时指标，还是离线指标，都存在时效性，错过了指标的预定时效，则可能会直接影响业务，或者数据本身已经没有意义。</p>
<h3 id="2-1-2-数据完整性"><a href="#2-1-2-数据完整性" class="headerlink" title="2.1.2 数据完整性"></a>2.1.2 数据完整性</h3><p>数据完整性，就是最终产出的数据，不能少，也不能多。和数据及时性不同，数据完整性关注的是数据的记录是否足够，每条数据的信息是否完整；而，数据及时性，更多是关注某个指标是否任务执行完成，对于任务产出的数据条数是否是满足的数量，并不care。</p>
<p>因此，我们对数据及时性，关注在数据产生的任务上；数据的完整性，在产出指标数据的表上。</p>
<h3 id="2-1-3-数据准确性"><a href="#2-1-3-数据准确性" class="headerlink" title="2.1.3 数据准确性"></a>2.1.3 数据准确性</h3><p>数据准确性，顾名思义，就是数据值是正确的，其主要包括，正常的业务逻辑下的计算结果正确性，还包括当数据异常或者缺失情况下，执行结果也是符合预期的。</p>
<p>数据准确性的测试，是最简单，也是最难的。简单是因为，理论上我们根据输入数据可以推算出正确的结果，然后去匹配比较，就可以发现任务执行的是否准备；困难是因为，输入数据的量太大，对所有正常和异常情形下的输入样本数据进行枚举测试，难度太大，基本上无法落地。</p>
<h2 id="2-2-数据质量之高级特性"><a href="#2-2-数据质量之高级特性" class="headerlink" title="2.2 数据质量之高级特性"></a>2.2 数据质量之高级特性</h2><p>在基础特性中，主要关注数据本身的质量。高级特性，主要关注数据整体质量的建设。</p>
<p>在特征中心中，存在大量的不同指标数据，这些指标从时效性、应用场景、降级策略等维度看，都存在的不同，在有限的资源里，这些不同维度，同样会影响数据质量。</p>
<p>因此，我们梳理出数据质量的高级特性：数据的易用性；数据的可靠性；数据的可维护性。</p>
<h3 id="2-2-1-数据易用性"><a href="#2-2-1-数据易用性" class="headerlink" title="2.2.1 数据易用性"></a>2.2.1 数据易用性</h3><p>数据易用性，作为数据质量的一个特性，是因为数据本身是作为一个产品，要被使用。此外，指标的定义如果不容易清晰理解，那么在使用的时候，可能由于理解不正确，导致被错误添加到规则引擎的具体策略中，最终影响业务。</p>
<p>因此，数据易用性，主要关注，指标数据容易被使用，被理解。使用和理解，对于特征中心而言，主要在对外暴露的产品上。</p>
<h3 id="2-2-2-数据可靠性"><a href="#2-2-2-数据可靠性" class="headerlink" title="2.2.2 数据可靠性"></a>2.2.2 数据可靠性</h3><p>数据可靠性，主要针对的是异常场景下，如何去保证数据的稳定性输出。比如，上游某个任务产出比较晚的情况下，如何最小化特征中心受影响的指标范围；再比如，执行指标产出的某个任务出现非预期故障，如何做好对应指标的降级策略等。</p>
<p>数据可靠性，主要是在数据稳定性方面的质量保证。</p>
<h3 id="2-2-3-数据可维护性"><a href="#2-2-3-数据可维护性" class="headerlink" title="2.2.3 数据可维护性"></a>2.2.3 数据可维护性</h3><p>特征中心，本身作为一个系统，就需要考虑新数据指标需求如何去快速支持。业务系统的质量建设，需要关注系统的可扩展，架构的灵活性，针对数据系统，同样需要具备这些特性。</p>
<p>数据的可维护性，主要是数据生产前的设计阶段，需要有清晰灵活的架构设计和模型设计。比如，数据模型分层设计，新指标的可视化配置，等，提升数据生产效率和数据复用。</p>
<h2 id="2-3-总结"><a href="#2-3-总结" class="headerlink" title="2.3 总结"></a>2.3 总结</h2><p>从数据质量的定义出发，梳理数据质量包括的一些特性，除了基础的数据本身的功能准确性之外，对于一个完整的数据系统，还需要关注全体指标的整体性质量建设。因此，我们从数据系统作为一个系统本身而言，应该具备的质量特性出发，介绍了数据易用性，可靠性和可维护性 三个质量特征。</p>
<p>下面，我们从数据生命周期出现，立足以上的质量特性，思考特征中心数据质量的建设。</p>
<h1 id="三、特征中心数据质量建设"><a href="#三、特征中心数据质量建设" class="headerlink" title="三、特征中心数据质量建设"></a>三、特征中心数据质量建设</h1><p>单独去介绍以上数据质量特性，以及对应的实施手段，这种描述方式并不是很体系化。因此，和业务风险脉络主线类似，我们对数据按照生命周期来分阶段讲述对应手段。</p>
<p>对于业务风险，或者业务稳定性建设，主要分为三个阶段，因此我们对于数据质量建设，也梳理出对应的三个阶段：<code>事前指标测试</code>，<code>事中质量监控</code>，<code>事后故障恢复</code>。</p>
<p>下面，主要从这三个阶段来总结数据质量建设全链路的治理手段。</p>
<h2 id="3-1-事前指标测试"><a href="#3-1-事前指标测试" class="headerlink" title="3.1 事前指标测试"></a>3.1 事前指标测试</h2><p>在指标上线服务之前，我们需要对于数据指标进行设计，开发和测试。而这些节点，都多多少少涉及到数据质量的相关特征，因此，都需要去重点思考和执行相关动作。</p>
<h3 id="3-1-1-指标设计-amp-开发节点"><a href="#3-1-1-指标设计-amp-开发节点" class="headerlink" title="3.1.1 指标设计&amp;开发节点"></a>3.1.1 指标设计&amp;开发节点</h3><p>指标设计和开发节点，参与者都是开发同学，而且，由于最终目标都是按照需求生产出指定口径的指标数据，因此，这里放在一起讨论。</p>
<p>指标设计和开发的主要流程是，先去调研之前的指标表是否存在相同或者相似的指标；如果需要生产，选择历史DP任务或者新建DP任务，按照指标口径开发SQL，构建基础原子指标（可能数仓协助开发，自己开发则需要进行Code Review）；配置新指标相关属性和口径描述等，选择虚拟任务，测试指标数据；开发完成。</p>
<p>针对上面的主要流程，按照数据治理的特征，可以总结出来，在设计和开发节点，我们可以针对 数据准确性，数据易用性，数据可靠性，数据可维护性。</p>
<h4 id="3-1-1-1-数据准确性"><a href="#3-1-1-1-数据准确性" class="headerlink" title="3.1.1.1 数据准确性"></a>3.1.1.1 数据准确性</h4><p>指标开发过程中，最核心的最基础的，就是准确性。在设计和开发节点，准确性可以通过自测和<code>Code Review</code>来保证。</p>
<p><strong>关于Code Review</strong>。<br>SQL 的 Code Review ，主要是看选择的原始数据表是否合理，sql语句是否符合指标口径，原始表字段的计量单位是否需要额外处理，数据计算的时候异常值是否考虑；等。需要特别说明：SQL的Code Review，按目前设计不应该很多，大部分需要写SQL的指标都是DWS/DWA的指标，这些应该交给数仓同学开发。通过配置生成的SQL，稳定的功能可以不需要review，对于配置生成的sql语句有优化疑问的，应该去改进特征中心配置功能。</p>
<p><strong>关于自测</strong>。<br>由于测试环境的数据存在各种缺失和错误，导致开发自测需要在生产环境进行，这同时也对自测有了更多的约束。其次，大数据的最大特点就是数据量大，开发在自测的时候，需要考虑怎样去选择测试样本来完成正确性测试，不可能去看所有最终指标数据，也不应该去跑所有指标数据来浪费资源和成本，并且效率也低。<br>因此，关于自测，我们需要关注两个点，自测基于指标维度来选择样本，减少资源使用和时间消耗；自测产出数据和真实数据表进行隔离，避免错误影响线上业务。</p>
<p><strong>对于自测样本，建立基于测试维度的各个维度样本库。样本选择，需要考虑，数据值范围正确、数据值类型丰富、数据量均衡等。<br>对于自测环境隔离，对于数据测试阶段，使用最终产出的测试标，在配置后生成的sql目标表为<code>xxx_test</code>，最终写入测试独立的hbase表。</strong></p>
<p>对于自测方法。有了自测样本和自测环境之后，可以直接执行开发的sql脚本，看最终产出指标数据。根据不同指标，可以采用去业务后台看业务统计数据和指标数据进行对比；也可以通过查看原始ods表，针对样本，写一个简单sql看指标数据是否符合预期；或者都很难的情况下，通过正确有效数值范围来评估指标是否合理。等等。</p>
<h4 id="3-1-1-2-数据易用性"><a href="#3-1-1-2-数据易用性" class="headerlink" title="3.1.1.2 数据易用性"></a>3.1.1.2 数据易用性</h4><p>数据易用性，在设计和开发的过程中，主要体现在前期针对需求的技术设计阶段，能否通过可视化来决定哪些指标需要加工，需要修改调整；开发过程中通过配置的方式，如何选择/修改到最佳的任务级别；在开发完成之后，如何查询某个指标是否存在问题。等等。</p>
<p>因此，数据易用性，在设计开发阶段，体现为，指标评估和配置。</p>
<p><strong>关于指标评估</strong>。<br>对于指标评估，其实是指标开发前很重要的一个过程。首先需要知道，指标是否已经生产，当前存在的指标是否和需求口径一致；其次，对于存在的指标，需要评估当前的指标产出时间是否满足需求？指标出现问题后，对应的降级策略是否满足新业务需求？同时，如果评估需要调整时，需要知道哪些业务使用了该指标，评估修改后的影响是否可控？</p>
<p>基于以上，为了易用性，我们需要可视化的获取指标信息，模糊查询，清晰的加工口径和加工配置。此外，还需要知道该指标通用的降级策略，以及指标对应任务的属性：优先级、任务完成时间趋势，任务监控告警策略等。此外，我们还需要通过目标指标，上钻获取上层使用业务策略。</p>
<p><strong>关于指标配置</strong><br>对于指标配置，主要是根据需求和评估，之前不存在对应口径指标，则需要配置新增。由于指标任务的质量建设，需要考虑对应指标生产归属到哪个虚拟任务上，最终使用什么级别的DP任务来执行？此外，指标的降级策略如何抉择？这些需要通过最简单的方式来支持配置，列出DP任务信息，可选降级策略信息等。</p>
<p>此外，指标配置最重要的一块，是生成执行的hive sql。目前的配置和生成都比较复杂，很多单表操作，一些异常值判断等，都缺失，需要人肉修改sql，需要逐步优化生成算法。</p>
<p>基于以上，为了易用性，我们需要优化算法、异常兼容考虑、单表操作规避join等。侧重于能力上的优化，来提升性能以及sql的稳健性，最终提升sql执行质量。</p>
<h4 id="3-1-1-3-数据可靠性"><a href="#3-1-1-3-数据可靠性" class="headerlink" title="3.1.1.3 数据可靠性"></a>3.1.1.3 数据可靠性</h4><p>数据可靠性，在设计和开发过程中去考虑，在事中监控和事后恢复中被使用。这里，具体说聊数据可靠性需要开发做哪些事情？后面阶段，侧重于发现和执行。</p>
<p>数据可靠性，开发关注的，应该是异常情况下的合理策略来最小化影响。在设计和开发节点，我们需要考虑指标有哪些异常场景？异常场景下，对应的处理方案有哪些？如果异常场景下，需要人参与，则如何快速评估影响，处理异常？</p>
<p>因此，数据可靠性，在设计开发阶段，体现为，指标异常梳理和异常预案制定。</p>
<p><strong>指标异常梳理</strong><br>对于指标异常场景，大部分指标其实都是相似的。比如，任务在预定时间内，没有执行完成，导致指标没有产出，怎么处理（挂在任务上统一处理？？）？指标在线查询，大量异常数据（例如空数据、非预期数据值），怎么处理？等等。</p>
<p>我们发现，绝大部分指标的异常场景，是可以枚举的。这就意味着，完全可以在指标生产配置的时候，列出异常场景项，指标开发者，根据这些异常场景来决定可靠性方案。</p>
<p><strong>异常预案制定</strong><br>对于异常预案，其对应的是异常场景。我们发现数据指标异常后，自动或者手动来执行对应预案。对于简单的异常场景，也就是我们可以系统化归因的异常，基本上可以系统自动化执行预案；但是，对于一些异常场景，没办法简单归因的，需要人工分析，然后执行预案。</p>
<p>比如，异常数据场景，首先我们不知道什么情况才能说是大量异常数据？大量是一个模糊的词语，系统无法正确量化判断；其次，背后的原因是因为数据源有问题，还是任务sql有问题，或者系统代码的问题，等等无法归因，因此，也就无法自动执行预案。但是，如果我们人工分析之后，可以按照约定，执行预案。</p>
<p>因此，基于以上，我们可以在指标生产的时候，通过给出的枚举异常场景，给出具体的预案，并标记为自动化，或者 手动执行。此外，我们需要支持根据业务场景，来支持不同的自动化预案。比如，指标没有及时产出，业务A可以使用昨天的数据；任务B则需要报错，或者不提供数据返回等。</p>
<h4 id="3-1-1-4-数据可维护性"><a href="#3-1-1-4-数据可维护性" class="headerlink" title="3.1.1.4 数据可维护性"></a>3.1.1.4 数据可维护性</h4><p>数据可维护性，和业务可维护性一样，需要在设计和开发阶段考虑，从而让后续其他需求得以复用公共底层模型指标，最终提升效率。</p>
<p>在指标建设中，主要是数据建模。指标设计和开发过程中，通过特征中心配置化来生成指标，如果不能配置完成，需要考虑是否应该在DWS/DWA相关模型表中建立几个原子指标，然后通过新建立的指标来配置生产最终的业务衍生DM指标。</p>
<p>这里，主要通过对设计阶段的方案进行review，或者对于所有通过sql完成的指标加工，进行强制增加原因和严格<code>code review</code>。此外，hive sql 去生产原子指标的任务，尽量交给数仓的同学完成。</p>
<h3 id="3-1-2-指标测试节点"><a href="#3-1-2-指标测试节点" class="headerlink" title="3.1.2 指标测试节点"></a>3.1.2 指标测试节点</h3><p>指标测试节点，主要是测试同学执行。目前，测试节点使用的测试手段，和开发阶段的自测手段基本一致，这里不单独说明。</p>
<h3 id="3-1-3-指标上线运行节点"><a href="#3-1-3-指标上线运行节点" class="headerlink" title="3.1.3 指标上线运行节点"></a>3.1.3 指标上线运行节点</h3><p>在指标测试完成之后，就可以执行上线，发布到生产环境。</p>
<p>我们先来看看一个离线指标，在运行过程中的流程：依赖DP任务执行 –&gt; 指标DP任务执行 –&gt; 任务执行完成，数据回写hbase表 –&gt; 特征中心查询hbase新数据。需要说明的是，DP任务的执行需要使用大量资源，因此任务优先级会影响任务的执行时间，也就是指标的及时性。此外，数据回写hbase的过程，也很影响最终指标的及时性。</p>
<p>因此，在指标上线运行节点，针对质量特征而言，我们主要侧重于数据及时性。</p>
<p>在上线运行节点，影响数据及时性，主要是两个方面，一个是任务本身的效率，一个是任务优先级。</p>
<h4 id="3-1-3-1-数据及时性-任务执行效率"><a href="#3-1-3-1-数据及时性-任务执行效率" class="headerlink" title="3.1.3.1 数据及时性-任务执行效率"></a>3.1.3.1 数据及时性-任务执行效率</h4><p>特征中心存在大量的指标，这些指标依赖的任务完成时间不同，指标的优先级不同，指标使用的表不同，导致最终指标的完成时间不可预测。或者说，单独优化指标本身的sql，很多时候，并没有提前指标加工完成时间。因此，优化任务及时性，就需要对指标任务进行治理。</p>
<p>梳理一下指标执行的流程，可以发现影响指标效率的，主要是：依赖表完成时间，写在线hbase表时间。任务本身的效率，这里暂不考虑（在设计review和开发code review时，应该考虑）。</p>
<p><strong>输入依赖表影响</strong><br>指标的生产都是依赖原子指标，或者详情数据源，如果这些数据产出完了，就会影响整个任务的产出，最终影响指标的生产时间。由于，我们没法决定上游数据源的最终完成时间，那么，我们就需要做到不同指标依赖的隔离，降低最小影响。</p>
<p>指标，是任务执行后的产物，在DP平台，最小执行单元是任务，因此，我们需要整理任务内的指标，来做到指标影响的隔离。</p>
<p>例如，指标A和指标B，都在任务T中，任务T自身执行需要1个小时。指标A依赖上游任务U1的指标X；指标B依赖上游任务U2的指标Y。那么，假设任务U1 早上8点完成，任务U2早上10点完成；则，任务T需要在早上10才能开始执行，产出指标A和B的时候，都是11点。如果，我们将指标A和指标B分拆到不同的任务，假设执行时间也都是1小时，则产出指标A的时间是9点，指标B的时候是11点。</p>
<p>因此，我们需要按照数据源，对不同的指标归属到哪个任务，进行细粒度管理。</p>
<p>划分的方式有很多，这里简单的原则，就是按照相同数据源进行组合，划分到同一个虚拟任务组，然后根据虚拟任务组依赖的表特性，将一些虚拟任务，划到具体的DP任务中。</p>
<blockquote>
<p>以上，肯定有其他更优方式，可以一起讨论深究其他更优任务分配策略。比如，过多的虚拟任务划到同一个DP任务，则会导致DP任务自身执行时间过长，可以话说对这个DP任务横向拆分优化等。</p>
</blockquote>
<p><strong>输出hbase影响</strong><br>大量数据写hbase，也会带来大的性能损耗。同样，我们可以针对hbase进行拆表处理，降低单表并发写表压力，提升最终指标产出效率。</p>
<p>回写hbase，需要按照DP任务来设置hbase。DP任务对应哪个hbase表对于任务完成写数据没有影响，但是，对于特征中心查询指标时，会有影响，因为查询需要路由到具体的表名。这就意味着，我们的指标特征中，需要维护虚拟任务 – DP任务 – hbase表 关系。</p>
<h4 id="3-1-3-2-数据及时性-任务优先级"><a href="#3-1-3-2-数据及时性-任务优先级" class="headerlink" title="3.1.3.2 数据及时性-任务优先级"></a>3.1.3.2 数据及时性-任务优先级</h4><p>在划分DP任务的时候，还有一个因子需要考虑，那就是执行生产的DP任务优先级。不同的优先级DP任务，在资源竞争的情况下，分配资源的数量，时机都是不同的。</p>
<p>因此，在考虑指标分配给哪个DP任务执行时，需要考虑指标本身对于完成时间的要求。</p>
<p>因此，在上文的任务分配策略里面，还需要考虑指标的优先级，指标的优先级依赖使用指标的业务，所以最终需要根据优化的优先级，去选择对应优先级的DP任务。</p>
<h4 id="3-1-3-3-数据及时性-总结"><a href="#3-1-3-3-数据及时性-总结" class="headerlink" title="3.1.3.3 数据及时性-总结"></a>3.1.3.3 数据及时性-总结</h4><p>任务及时性，重点在于任务的执行效率，以及指标的合理分配。</p>
<p>在执行过程中，需要关注指标的业务诉求，以及指标加工依赖的任务情况，来进行合理的虚拟任务选择/创建，最终选择相对适合的DP任务。</p>
<h2 id="3-2-事中质量监控"><a href="#3-2-事中质量监控" class="headerlink" title="3.2 事中质量监控"></a>3.2 事中质量监控</h2><p>在指标测试完成之后，就可以执行上线，发布到生产环境。接下来，质量治理环节，就走到了事中监控监控领域。</p>
<p>事中监控，主要关注指标的健康度，以及执行指标的DP任务健康度。所谓质量监控，就是对数据质量的基础特征进行监控。数据质量的高级特性，本质上是用来保证数据的基础特性。而，事中监控，是用来及时发现线上数据质量的基础特性是否出现异常，及时进行恢复和降级操作。</p>
<h3 id="3-2-1-数据及时性监控"><a href="#3-2-1-数据及时性监控" class="headerlink" title="3.2.1 数据及时性监控"></a>3.2.1 数据及时性监控</h3><p>数据及时性监控，主要是对数据的最小执行单元，任务进行监控。<br>目前的保障策略是依赖于dp平台的<strong>监控告警</strong>，若数据未产出，则会有企微、电话等告警形式，通知到相应的人员。</p>
<p><img src="/images/2022/data/20211123193610.png" alt="数据及时性监控"></p>
<h3 id="3-2-2-数据完整性监控"><a href="#3-2-2-数据完整性监控" class="headerlink" title="3.2.2 数据完整性监控"></a>3.2.2 数据完整性监控</h3><p>目前只能根据表来做完整性监控，完整性主要关注数据的多少。同比，环比比较，看数据是否符合预期数据量变更趋势。如果hive表数据都是同纬度下的相同过滤规则，则基于表和基于指标，达到的预期是一致的。<br><img src="/images/2022/data/20211123194920.png" alt="数据完整性监控"></p>
<h3 id="3-2-3-数据准确性监控"><a href="#3-2-3-数据准确性监控" class="headerlink" title="3.2.3 数据准确性监控"></a>3.2.3 数据准确性监控</h3><p>最后，我们看数据准确性监控。准确性，是指标数据的准确，所以监控纬度在指标上，也就是表的字段上。<br><img src="/images/2022/data/20211123195723.png" alt="数据准确性监控"></p>
<h2 id="3-3-事后故障恢复"><a href="#3-3-事后故障恢复" class="headerlink" title="3.3 事后故障恢复"></a>3.3 事后故障恢复</h2><p>对于监控发现的问题，有些仅仅是预警作用，需要关注；有些就是故障预警，需要采取对应预案。因此，首先我们需要梳理出，有哪些故障，然后是研究应该使用什么预案来及时止损。</p>
<h3 id="3-3-1-故障-异常枚举"><a href="#3-3-1-故障-异常枚举" class="headerlink" title="3.3.1 故障/异常枚举"></a>3.3.1 故障/异常枚举</h3><p>在前面设计开发节点介绍数据可靠性的时候，对数据异常情况简单的介绍。由于，我们是基于监控发现问题，然后去做故障恢复；而监控的侧重点，在数据准确性，完整性和及时性。</p>
<p>那么，故障的类型，按照监控分类，就是准确性故障、完整性故障、及时性故障。</p>
<h4 id="3-3-1-1-故障归因分析"><a href="#3-3-1-1-故障归因分析" class="headerlink" title="3.3.1.1 故障归因分析"></a>3.3.1.1 故障归因分析</h4><p>故障看到的很多时候，只是对外的表现。我们需要对故障/异常进行细分，找到最终根因，这个过程就是故障归因分析。</p>
<p>有个异常/故障的发生根因之后，才可以针对根因去恢复故障，解决异常。不过，对于故障过程中，如果对根因进行分析后，发现需要较长的时间才能恢复，这个时候就需要根据指标应用的业务场景诉求进行降级。</p>
<p>总结一下，我们首先需要针对故障的外在表现，进行下钻找到发送问题的根因，然后继续修复；同时对故障影响的任务/指标进行上钻，根据业务，进行降级和其他相应处理。</p>
<h4 id="3-3-1-2-准确性故障"><a href="#3-3-1-2-准确性故障" class="headerlink" title="3.3.1.2 准确性故障"></a>3.3.1.2 准确性故障</h4><p>针对准确性故障，一般通过数据平台监控后的表现，就是数据范围不满足，数据唯一性不满足，数据可枚举出现问题，空值趋势不符合预期等。</p>
<p>一般这种情况的原因两种：1，外部依赖数据源存在问题；2，业务数据出现调整，hive sql处理异常，出现一些逻辑的漏洞。</p>
<p>准确性异常问题，需要人工去check具体问题点，此外，因为涉及到外部数据源或者业务的正确性确认，在故障的根因分析上的耗时，是比较不确定的。</p>
<h4 id="3-3-1-3-完整性故障"><a href="#3-3-1-3-完整性故障" class="headerlink" title="3.3.1.3 完整性故障"></a>3.3.1.3 完整性故障</h4><p>针对完整性故障，一般通过数据平台监控后的表现，就是数据量的趋势，不满足预期变化区间。</p>
<p>一般出现这种情况的原因三种：1，外部依赖数据源存在问题；2，业务数据出现调整，hive sql处理异常，出现一些逻辑的漏洞；3，业务战略或者市场调整。</p>
<p>和准确性故障根因一样。不过针对第2点，可能是由于业务方对一些计算的过滤字段进行了调整，导致最终计算数据量出现大的偏差。</p>
<p>针对第3点，很多时候会忽略，比如针对某平台的商品被逐步全面下架，导致该平台维度下的指标数据量出现大幅度的调整，同时也会导致其他比例指标出现大的调整，这些都需要去考虑。其实，这种case，在准确性上也是一个根因。</p>
<h4 id="3-3-1-4-及时性故障"><a href="#3-3-1-4-及时性故障" class="headerlink" title="3.3.1.4 及时性故障"></a>3.3.1.4 及时性故障</h4><p>针对及时性故障，出现的概率最大，一般都是在设置的预期截止时间内任务都没有执行完成，从而导致数据最终产出及时性。</p>
<p>及时性故障，最大的原因，就是上游依赖任务执行时间延迟太久，甚至在截止时间到达前都没有执行完成；其次，任务优先级设置不合理，在资源紧张的时候，没有足够资源执行指标生产任务，最终导致执行时间超过预期。</p>
<p>此外，任务本身的执行时间，在突发的大数据量情况下，本身的执行时间超过预期，导致及时性受损，不过这种case一般很少出现，首先，我们的计算逻辑比较简单；其次，我们一般会预留足够的时间给任务，截止时间的预警一般不太会触发的到。</p>
<h3 id="3-3-2-故障预案"><a href="#3-3-2-故障预案" class="headerlink" title="3.3.2 故障预案"></a>3.3.2 故障预案</h3><p>这里关于故障预案，而不是故障恢复。</p>
<p>对于大数据任务，尤其是针对特征中心产出的这种DM层指标数据，出现故障的根因，基本上都是依赖的数据出现问题，资源不够，或者业务数据出现调整，这些点的定位、修复、重跑，都是非常消耗时间，所以故障恢复是一个长时间的过程。</p>
<p>因此，我们需要针对这些case，做故障降级预案。通过降级，来避免影响在线实时业务。</p>
<p>分析故障根因，使用下钻；对于故障预案，则需要针对数据指标进行上钻。</p>
<p>故障预案，最大的目标，是最小化业务损失。业务对于指标数据都是通过查询请求，而查询的数据返回对于接口而言，一种是异常报错；一种是降级历史数据。</p>
<h4 id="3-3-2-1-数据异常处理"><a href="#3-3-2-1-数据异常处理" class="headerlink" title="3.3.2.1 数据异常处理"></a>3.3.2.1 数据异常处理</h4><p>数据异常处理，就是直接返回错误信息给到业务方，业务方根据错误信息，停止一些业务处理。因此，这里可以在特征中心，对数据正确性故障、完整性故障、及时性故障分别有自己的错误码，根据错误码觉得具体的执行策略。</p>
<p>比如，及时性故障的时候，数据产出存在出现问题，这个时候，业务根据具体错误码，暂停业务后续业务执行，等待故障恢复。</p>
<h4 id="3-3-2-2-降级历史数据"><a href="#3-3-2-2-降级历史数据" class="headerlink" title="3.3.2.2 降级历史数据"></a>3.3.2.2 降级历史数据</h4><p>降级历史数据，在风控业务里面，比较常见，毕竟对于一个用户/商家的好坏预测，使用非最新鲜数据，影响相对较少，可以接收。</p>
<p>降级历史数据，有一个点需要注意，由于一些涉及比例计算，如果分子和分母不是使用同一批次数据，则计算可能出现非预期。因此，最简单的方式，就是比例变量也作为一个指标，由特征中心来计算。</p>
<h1 id="四、特征中心数据质量能力建设"><a href="#四、特征中心数据质量能力建设" class="headerlink" title="四、特征中心数据质量能力建设"></a>四、特征中心数据质量能力建设</h1><p>针对上面总结的数据质量建设，我们需要抽象出特征中心针对质量治理，需要建设的能力。</p>
<h2 id="4-1-指标地图"><a href="#4-1-指标地图" class="headerlink" title="4.1 指标地图"></a>4.1 指标地图</h2><p><strong>指标地图</strong>。<br>指标地图，包括指标的基础信息，口径信息，维度，时间周期等；指标使用情况，哪些业务在使用这个指标，也就是指标上钻；指标加工依赖，这个指标在哪个任务执行调度，任务优先级，指标依赖的表等，也就是指标下钻。</p>
<p>和当前特征中心指标信息相比，我们需要额外建立特征/指标的上钻，业务展示；下钻，DP任务。</p>
<p><img src="/images/2022/data/20211124170016.png" alt="下钻"></p>
<h2 id="4-2-指标任务管理"><a href="#4-2-指标任务管理" class="headerlink" title="4.2 指标任务管理"></a>4.2 指标任务管理</h2><p>为了支持上面的指标地图，需要对指标任务进行管理，最终按照指标的特点和使用场景，分配合理的任务执行。</p>
<p>指标管理，主要体现的是，指标和虚拟任务和实体DP任务的分配关系展示。<br><img src="/images/2022/data/20211124171311.png" alt="指标任务管理"></p>
<h2 id="4-3-异常预案管理"><a href="#4-3-异常预案管理" class="headerlink" title="4.3 异常预案管理"></a>4.3 异常预案管理</h2><p>异常预案，对于特征中心而言，就是根据业务属性，使用不同的返回，降级或者异常。默认，使用降级，如果有特殊需求可以通过配置异常返回。</p>
<p>对于异常，为了方便后续业务可能需要人肉手动去执行一些预案。因此，这些自定义的预案，可以通过接口触发的方式，或者简单些，通过文本描述预案处理方案。</p>
<p><img src="/images/2022/data/20211125095409.png" alt="异常预案管理"></p>
<h1 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a>五、总结</h1><p>当前针对经常出现的问题，对于指标地图的上钻下钻诉求，其实是非常紧迫的。通过上钻下钻，可以通过DP任务，以及数据平台的数据地图，可以快速发现哪些指标收到影响，最后查看哪些业务收到影响。</p>
<p>通过上下钻，可以快速评估异常/故障影响面，指定对应的异常/故障预案，减少故障损失，控制影响面。</p>
<p>此外，当前对于指标生产过程中的任务管理，基本上是混乱的，没有具体的规则和规范，比较随意。对于下游依赖的任务和表出现问题之后，会导致整体影响面不好控制。比如一些本不受故障表影响的指标，由于绑定到某个任务上，导致必须等待故障表执行完成之后，才能随着大的dp任务执行完成而可用。</p>
<p>因此，对于质量治理能力建设，优先建设指标地图上下钻能力；其次，预案进行规整，对当前不能使用默认降级数据的事件，前期制定文档预案，后期系统化。最后，再进行任务的管理和统一分配策略和规范。</p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>柯小小西
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://ketao1989.github.io/2022/02/05/2022-02-05-think-ablout-risk-data-quality-assure/" title="风控特征中心数据质量建设的思考">https://ketao1989.github.io/2022/02/05/2022-02-05-think-ablout-risk-data-quality-assure/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/11/22/2021-11-22-mysql-innodb-design-for-write-part/" rel="prev" title="MySQL InnoDB 事务部分核心设计和原理">
      <i class="fa fa-chevron-left"></i> MySQL InnoDB 事务部分核心设计和原理
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E8%83%8C%E6%99%AF"><span class="nav-number">1.</span> <span class="nav-text">一、背景</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E6%95%B0%E6%8D%AE%E8%B4%A8%E9%87%8F%E5%AE%9A%E4%B9%89"><span class="nav-number">2.</span> <span class="nav-text">二、数据质量定义</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E6%95%B0%E6%8D%AE%E8%B4%A8%E9%87%8F%E4%B9%8B%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 数据质量之基础特性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-1-%E6%95%B0%E6%8D%AE%E5%8F%8A%E6%97%B6%E6%80%A7"><span class="nav-number">2.1.1.</span> <span class="nav-text">2.1.1 数据及时性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-2-%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="nav-number">2.1.2.</span> <span class="nav-text">2.1.2 数据完整性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-3-%E6%95%B0%E6%8D%AE%E5%87%86%E7%A1%AE%E6%80%A7"><span class="nav-number">2.1.3.</span> <span class="nav-text">2.1.3 数据准确性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-%E6%95%B0%E6%8D%AE%E8%B4%A8%E9%87%8F%E4%B9%8B%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 数据质量之高级特性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-1-%E6%95%B0%E6%8D%AE%E6%98%93%E7%94%A8%E6%80%A7"><span class="nav-number">2.2.1.</span> <span class="nav-text">2.2.1 数据易用性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-2-%E6%95%B0%E6%8D%AE%E5%8F%AF%E9%9D%A0%E6%80%A7"><span class="nav-number">2.2.2.</span> <span class="nav-text">2.2.2 数据可靠性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-3-%E6%95%B0%E6%8D%AE%E5%8F%AF%E7%BB%B4%E6%8A%A4%E6%80%A7"><span class="nav-number">2.2.3.</span> <span class="nav-text">2.2.3 数据可维护性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-%E6%80%BB%E7%BB%93"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 总结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E7%89%B9%E5%BE%81%E4%B8%AD%E5%BF%83%E6%95%B0%E6%8D%AE%E8%B4%A8%E9%87%8F%E5%BB%BA%E8%AE%BE"><span class="nav-number">3.</span> <span class="nav-text">三、特征中心数据质量建设</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E4%BA%8B%E5%89%8D%E6%8C%87%E6%A0%87%E6%B5%8B%E8%AF%95"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 事前指标测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-1-%E6%8C%87%E6%A0%87%E8%AE%BE%E8%AE%A1-amp-%E5%BC%80%E5%8F%91%E8%8A%82%E7%82%B9"><span class="nav-number">3.1.1.</span> <span class="nav-text">3.1.1 指标设计&amp;开发节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-1-%E6%95%B0%E6%8D%AE%E5%87%86%E7%A1%AE%E6%80%A7"><span class="nav-number">3.1.1.1.</span> <span class="nav-text">3.1.1.1 数据准确性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-2-%E6%95%B0%E6%8D%AE%E6%98%93%E7%94%A8%E6%80%A7"><span class="nav-number">3.1.1.2.</span> <span class="nav-text">3.1.1.2 数据易用性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-3-%E6%95%B0%E6%8D%AE%E5%8F%AF%E9%9D%A0%E6%80%A7"><span class="nav-number">3.1.1.3.</span> <span class="nav-text">3.1.1.3 数据可靠性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-4-%E6%95%B0%E6%8D%AE%E5%8F%AF%E7%BB%B4%E6%8A%A4%E6%80%A7"><span class="nav-number">3.1.1.4.</span> <span class="nav-text">3.1.1.4 数据可维护性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-2-%E6%8C%87%E6%A0%87%E6%B5%8B%E8%AF%95%E8%8A%82%E7%82%B9"><span class="nav-number">3.1.2.</span> <span class="nav-text">3.1.2 指标测试节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-3-%E6%8C%87%E6%A0%87%E4%B8%8A%E7%BA%BF%E8%BF%90%E8%A1%8C%E8%8A%82%E7%82%B9"><span class="nav-number">3.1.3.</span> <span class="nav-text">3.1.3 指标上线运行节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-3-1-%E6%95%B0%E6%8D%AE%E5%8F%8A%E6%97%B6%E6%80%A7-%E4%BB%BB%E5%8A%A1%E6%89%A7%E8%A1%8C%E6%95%88%E7%8E%87"><span class="nav-number">3.1.3.1.</span> <span class="nav-text">3.1.3.1 数据及时性-任务执行效率</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-3-2-%E6%95%B0%E6%8D%AE%E5%8F%8A%E6%97%B6%E6%80%A7-%E4%BB%BB%E5%8A%A1%E4%BC%98%E5%85%88%E7%BA%A7"><span class="nav-number">3.1.3.2.</span> <span class="nav-text">3.1.3.2 数据及时性-任务优先级</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-3-3-%E6%95%B0%E6%8D%AE%E5%8F%8A%E6%97%B6%E6%80%A7-%E6%80%BB%E7%BB%93"><span class="nav-number">3.1.3.3.</span> <span class="nav-text">3.1.3.3 数据及时性-总结</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E4%BA%8B%E4%B8%AD%E8%B4%A8%E9%87%8F%E7%9B%91%E6%8E%A7"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 事中质量监控</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-1-%E6%95%B0%E6%8D%AE%E5%8F%8A%E6%97%B6%E6%80%A7%E7%9B%91%E6%8E%A7"><span class="nav-number">3.2.1.</span> <span class="nav-text">3.2.1 数据及时性监控</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-2-%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7%E7%9B%91%E6%8E%A7"><span class="nav-number">3.2.2.</span> <span class="nav-text">3.2.2 数据完整性监控</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-3-%E6%95%B0%E6%8D%AE%E5%87%86%E7%A1%AE%E6%80%A7%E7%9B%91%E6%8E%A7"><span class="nav-number">3.2.3.</span> <span class="nav-text">3.2.3 数据准确性监控</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E4%BA%8B%E5%90%8E%E6%95%85%E9%9A%9C%E6%81%A2%E5%A4%8D"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 事后故障恢复</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-1-%E6%95%85%E9%9A%9C-%E5%BC%82%E5%B8%B8%E6%9E%9A%E4%B8%BE"><span class="nav-number">3.3.1.</span> <span class="nav-text">3.3.1 故障&#x2F;异常枚举</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-1-1-%E6%95%85%E9%9A%9C%E5%BD%92%E5%9B%A0%E5%88%86%E6%9E%90"><span class="nav-number">3.3.1.1.</span> <span class="nav-text">3.3.1.1 故障归因分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-1-2-%E5%87%86%E7%A1%AE%E6%80%A7%E6%95%85%E9%9A%9C"><span class="nav-number">3.3.1.2.</span> <span class="nav-text">3.3.1.2 准确性故障</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-1-3-%E5%AE%8C%E6%95%B4%E6%80%A7%E6%95%85%E9%9A%9C"><span class="nav-number">3.3.1.3.</span> <span class="nav-text">3.3.1.3 完整性故障</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-1-4-%E5%8F%8A%E6%97%B6%E6%80%A7%E6%95%85%E9%9A%9C"><span class="nav-number">3.3.1.4.</span> <span class="nav-text">3.3.1.4 及时性故障</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-2-%E6%95%85%E9%9A%9C%E9%A2%84%E6%A1%88"><span class="nav-number">3.3.2.</span> <span class="nav-text">3.3.2 故障预案</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-2-1-%E6%95%B0%E6%8D%AE%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="nav-number">3.3.2.1.</span> <span class="nav-text">3.3.2.1 数据异常处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-2-2-%E9%99%8D%E7%BA%A7%E5%8E%86%E5%8F%B2%E6%95%B0%E6%8D%AE"><span class="nav-number">3.3.2.2.</span> <span class="nav-text">3.3.2.2 降级历史数据</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E7%89%B9%E5%BE%81%E4%B8%AD%E5%BF%83%E6%95%B0%E6%8D%AE%E8%B4%A8%E9%87%8F%E8%83%BD%E5%8A%9B%E5%BB%BA%E8%AE%BE"><span class="nav-number">4.</span> <span class="nav-text">四、特征中心数据质量能力建设</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-%E6%8C%87%E6%A0%87%E5%9C%B0%E5%9B%BE"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 指标地图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-%E6%8C%87%E6%A0%87%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 指标任务管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-%E5%BC%82%E5%B8%B8%E9%A2%84%E6%A1%88%E7%AE%A1%E7%90%86"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 异常预案管理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93"><span class="nav-number">5.</span> <span class="nav-text">五、总结</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="柯小小西"
      src="/images/ava.gif">
  <p class="site-author-name" itemprop="name">柯小小西</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">59</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">64</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">柯小小西</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">581k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">8:48</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="//cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script>
<script src="/js/algolia-search.js"></script>














  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '8a8454cf0d89ff4ed454',
      clientSecret: '784e8e608e1ca4945c73aa268a1c4b1125347047',
      repo        : 'ketao1989.github.io',
      owner       : 'ketao1989',
      admin       : ['ketao1989'],
      id          : 'f67ba8e71ab6ea450db43c447e388762',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>

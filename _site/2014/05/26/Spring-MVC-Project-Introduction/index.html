<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Spring MVC 项目构建入门指南</title>
    <meta name="description" content="前言走入社会工作接近一年了,感慨颇多.一年前的现在,自己对java知之甚少,更不知道怎么去创建一个满足spring mvc架构思想的web项目。最近，为了学习Spring MVC框架的实现原理，首先新建了一个web项目，该项目包含 Spring + Mybatis涉及数据库，DAO，service，API，业务，...">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_8v3czwksspqlg14i.css">
    <link rel="stylesheet" href="/css/main.css ">
    <link rel="canonical" href="http://localhost:4000/2014/05/26/Spring-MVC-Project-Introduction/">
    <link rel="alternate" type="application/rss+xml" title="柯小小西" href="http://localhost:4000/feed.xml ">


    <script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?a9b0f47a0e50b02dafb8a7088436a9bc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>




</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">柯小小西</a>
        <small>留着一点点技术积蓄</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/">
                    
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-heart"></i>About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" post>
    <div class="left">
        <h1>Spring MVC 项目构建入门指南</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2014-05-26
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Java" title="Category: Java" rel="category">Java</a>&nbsp;
    
        <a href="/category/#Spring" title="Category: Spring" rel="category">Spring</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <h2 id="前言"><a id="Intro">前言</a></h2>

<p>走入社会工作接近一年了,感慨颇多.一年前的现在,自己对java知之甚少,更不知道怎么去创建一个满足<code class="highlighter-rouge">spring mvc</code>架构思想的web项目。最近，为了学习<code class="highlighter-rouge">Spring MVC</code>框架的实现原理，首先新建了一个web项目，该项目包含 <code class="highlighter-rouge">Spring + Mybatis</code>涉及数据库，DAO，service，API，业务，controller多个模块。</p>

<blockquote>
  <blockquote>
    <p>Note：这个项目代码完成的功能只是为了演示一个大项目应该具备的结构，而显然在实际工程中，这么简单地功能，是不需要如此繁杂的结构模块的。</p>
  </blockquote>
</blockquote>

<p>此外，关于<code class="highlighter-rouge">Spring MVC</code>演示项目的代码，可以从<code class="highlighter-rouge">github</code>上<code class="highlighter-rouge">clone</code>一份到本地，项目为：<a href="https://github.com/ketao1989/simpleSpringProject">SimpleSpringProject</a>。<code class="highlighter-rouge">git clone</code> 地址为：<code class="highlighter-rouge">https://github.com/ketao1989/simpleSpringProject.git</code></p>

<h2 id="simplespringproject-结构介绍"><a id="Framework">SimpleSpringProject 结构介绍</a></h2>

<p><code class="highlighter-rouge">simpleSpringProject</code>项目各个模块分工明确，主要由8个模块组成：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. simple-spring-main模块：该模块主要是提供给外界访问的controller层所在。`controller`层可以对外提供html视图，也可以对外提供RPC调用，例如 alibaba 的 dubbo接口。

2. simple-spring-api模块：该模块主要就是封装一些底层的方法接口给外部使用。比如，如果我们使用RPC接口调用服务，则只需要API包就可以了，具体实现调用方是不需要知道的。

3. simple-spring-biz模块：该模块是业务模块，也就是具体业务需要的方法基本上都是在这里实现的。在demo 中，在这一层实现api提供的接口。该模块主要调用service层提供的基本服务，组装起来，实现各种不同的业务逻辑接口。

4. simple-spring-service模块：该模块是基础服务模块，该模块会为biz业务模块提供基本的服务，这些服务功能都比较简单，业务逻辑单一。因此，在这一层进行单元测试，一般会取到比较好的效果。

5. simple-spring-dao模块：该模块是数据库相关接口模块。`Mybatis`可以把interface 和 xml结合起来，使得开发者可以把数据库表中相关操作集成在 interface 代码中，而具体的`SQL`实现则写在xml文件中。这样子，可以让整个结构更清晰。

6. simple-spring-config模块：该模块就是相关`sql`语句的配置文件所在地。一般地，会根据interface 来切分不同的配置文件，两种的关联关系是通过对于的`sql.xml`文件中`mapper namespace`来关联。

7. simple-spring-common模块：该模块一般存放一些项目公用的工具类和常量值。比如，一些配置文件中需要配置的属性值，一些xxxUtils类实现等。

8. simple-spring-model模块：该模块主要提供一些模型，各个类需要使用的对象。比如，我们需要获取一个学生个体信息，显然会作为一个对象类来实现。
</code></pre></div></div>

<blockquote>
  <blockquote>
    <p>Note：显然，对于各个模块的具体详细分工，其实还是可以调整的，比如可能有些地方会在<code class="highlighter-rouge">service</code>层来做稍微复杂的服务实现，而在<code class="highlighter-rouge">biz</code>层则稍微组合就可以了。这里，demo的模块分类，只是正常情况下，业务规模有一些大的情况下，才会进行多个模块的分工。</p>
  </blockquote>
</blockquote>

<!-- more -->

<h2 id="simplespringproject-配置介绍"><a id="Configure">SimpleSpringProject 配置介绍</a></h2>

<p><code class="highlighter-rouge">Spring</code>作为一个主打配置的框架，配置文件的位置，十分重要。如果，一些配置文件的一个符号错误，都会导致整个<code class="highlighter-rouge">MVC</code> web 项目无法正常启动。</p>

<blockquote>
  <blockquote>
    <p>首先，来看看web项目中，重中之重的配置文件<code class="highlighter-rouge">web.xml</code>，</p>
  </blockquote>
</blockquote>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;web-app</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="na">xmlns=</span><span class="s">"http://java.sun.com/xml/ns/javaee"</span> <span class="na">xmlns:web=</span><span class="s">"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span>
         <span class="na">xsi:schemaLocation=</span><span class="s">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span>
         <span class="na">id=</span><span class="s">"WebApp_ID"</span> <span class="na">version=</span><span class="s">"2.5"</span><span class="nt">&gt;</span>

    <span class="c">&lt;!--启动配置文件设置--&gt;</span>
    <span class="nt">&lt;display-name&gt;</span>simple-spring-main<span class="nt">&lt;/display-name&gt;</span>
    <span class="nt">&lt;context-param&gt;</span>
        <span class="nt">&lt;param-name&gt;</span>contextConfigLocation<span class="nt">&lt;/param-name&gt;</span>
        <span class="nt">&lt;param-value&gt;</span>classpath:applicationContext.xml<span class="nt">&lt;/param-value&gt;</span>
    <span class="nt">&lt;/context-param&gt;</span>

    <span class="nt">&lt;listener&gt;</span>
        <span class="nt">&lt;listener-class&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="nt">&lt;/listener-class&gt;</span>
    <span class="nt">&lt;/listener&gt;</span>

    <span class="c">&lt;!-- 请求地址匹配映射 --&gt;</span>

    <span class="nt">&lt;servlet&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>springmvc<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="nt">&lt;/servlet-class&gt;</span>
        <span class="nt">&lt;load-on-startup&gt;</span>1<span class="nt">&lt;/load-on-startup&gt;</span>
    <span class="nt">&lt;/servlet&gt;</span>
    <span class="nt">&lt;servlet-mapping&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>springmvc<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>*.htm<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/servlet-mapping&gt;</span>
    <span class="nt">&lt;servlet-mapping&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>springmvc<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>*.json<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/servlet-mapping&gt;</span>
    <span class="nt">&lt;servlet-mapping&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>springmvc<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>*.xml<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/servlet-mapping&gt;</span>

    <span class="c">&lt;!-- 编码过滤器 --&gt;</span>
    <span class="nt">&lt;filter&gt;</span>
        <span class="nt">&lt;filter-name&gt;</span>characterEncodingFilter<span class="nt">&lt;/filter-name&gt;</span>
        <span class="nt">&lt;filter-class&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="nt">&lt;/filter-class&gt;</span>
        <span class="nt">&lt;init-param&gt;</span>
            <span class="nt">&lt;param-name&gt;</span>encoding<span class="nt">&lt;/param-name&gt;</span>
            <span class="nt">&lt;param-value&gt;</span>UTF-8<span class="nt">&lt;/param-value&gt;</span>
        <span class="nt">&lt;/init-param&gt;</span>
        <span class="nt">&lt;init-param&gt;</span>
            <span class="nt">&lt;param-name&gt;</span>forceEncoding<span class="nt">&lt;/param-name&gt;</span>
            <span class="nt">&lt;param-value&gt;</span>true<span class="nt">&lt;/param-value&gt;</span>
        <span class="nt">&lt;/init-param&gt;</span>
    <span class="nt">&lt;/filter&gt;</span>
    <span class="nt">&lt;filter-mapping&gt;</span>
        <span class="nt">&lt;filter-name&gt;</span>characterEncodingFilter<span class="nt">&lt;/filter-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>*.htm<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/filter-mapping&gt;</span>

    <span class="c">&lt;!-- 指定404页面 --&gt;</span>
    <span class="nt">&lt;error-page&gt;</span>
        <span class="nt">&lt;error-code&gt;</span>404<span class="nt">&lt;/error-code&gt;</span>
        <span class="nt">&lt;location&gt;</span>/404.html<span class="nt">&lt;/location&gt;</span>
    <span class="nt">&lt;/error-page&gt;</span>


</code></pre></div></div>

<blockquote>
  <blockquote>
    <p>接下来默认<code class="highlighter-rouge">springmvc-servlet.xml</code>文件和<code class="highlighter-rouge">applicationContext.xml</code>文件。<code class="highlighter-rouge">springmvc-servlet.xml</code>配置文件，主要定义servlet相关配置，比如scan 基本包名，视图velocity配置，jsp配置设置等信息。由于这里只有一个 mapping servlet，所以只有一个对应的配置文件，当然也可以把这个文件放置其他地方，然后再<code class="highlighter-rouge">web.xml</code>中定义对于的servlet就可以了。<code class="highlighter-rouge">applicationContext.xml</code>配置文件，则是整个项目的公共配置，比如指定数据库配置，连接池相关信息，一些spring bean 注册信息，默认的视图解析器等等。</p>
  </blockquote>
</blockquote>

<p>-</p>

<blockquote>
  <blockquote>
    <p>接下来，就是<code class="highlighter-rouge">mybatis.xml</code>配置文件，这个配置主要是针对<code class="highlighter-rouge">Mybatis</code>而存在的，其指定项目中<code class="highlighter-rouge">Mybatis</code>设置，以及一些<code class="highlighter-rouge">typeHandler</code>，<code class="highlighter-rouge">mapper</code>实现的位置。下面给出demo中的配置示例：</p>
  </blockquote>
</blockquote>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE configuration
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;</span>
<span class="nt">&lt;configuration&gt;</span>

    <span class="nt">&lt;settings&gt;</span>
        <span class="c">&lt;!-- 这个配置使全局的映射器启用或禁用缓存 --&gt;</span>
        <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">"cacheEnabled"</span> <span class="na">value=</span><span class="s">"false"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">"mapUnderscoreToCamelCase"</span> <span class="na">value=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
        <span class="c">&lt;!-- 全局启用或禁用延迟加载。当禁用时，所有关联对象都会即时加载 --&gt;</span>
        <span class="c">&lt;!-- &lt;setting name="lazyLoadingEnabled" value="true"/&gt; --&gt;</span>
        <span class="c">&lt;!-- 当启用时，有延迟加载属性的对象在被调用时将会完全加载任意属性。否则，每种属性将会按需要加载 --&gt;</span>
        <span class="c">&lt;!-- &lt;setting name="aggressiveLazyLoading" value="true"/&gt; --&gt;</span>
        <span class="c">&lt;!-- 允许或不允许多种结果集从一个单独的语句中返回（需要适合的驱动） --&gt;</span>
        <span class="c">&lt;!-- &lt;setting name="multipleResultSetsEnabled" value="true"/&gt; --&gt;</span>
        <span class="c">&lt;!-- 使用列标签代替列名。不同的驱动在这方便表现不同。参考驱动文档或充分测试两种方法来决定所使用的驱动 --&gt;</span>
        <span class="c">&lt;!-- &lt;setting name="useColumnLabel" value="true"/&gt; --&gt;</span>
        <span class="c">&lt;!-- 允许JDBC支持生成的键。需要适合的驱动。如果设置为true则这个设置强制生成的键被使用，尽管一些驱动拒绝兼容但仍然有效（比如Derby） --&gt;</span>
        <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">"useGeneratedKeys"</span> <span class="na">value=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
        <span class="c">&lt;!-- 指定MyBatis如何自动映射列到字段/属性。PARTIAL只会自动映射简单，没有嵌套的结果。FULL会自动映射任意复杂的结果（嵌套的或其他情况） --&gt;</span>
        <span class="c">&lt;!-- &lt;setting name="autoMappingBehavior" value="PARTIAL"/&gt; --&gt;</span>
        <span class="c">&lt;!-- 配置默认的执行器。SIMPLE执行器没有什么特别之处。REUSE执行器重用预处理语句。BATCH执行器重用语句和批量更新 --&gt;</span>
        <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">"safeRowBoundsEnabled"</span> <span class="na">value=</span><span class="s">"false"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">"defaultExecutorType"</span> <span class="na">value=</span><span class="s">"REUSE"</span><span class="nt">/&gt;</span>
        <span class="c">&lt;!-- 设置超时时间，它决定驱动等待一个数据库响应的时间 --&gt;</span>
        <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">"defaultStatementTimeout"</span> <span class="na">value=</span><span class="s">"600"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/settings&gt;</span>

    <span class="nt">&lt;mappers&gt;</span>
        <span class="nt">&lt;mapper</span> <span class="na">resource=</span><span class="s">"mapper/version.xml"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/mappers&gt;</span>

<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div></div>

<p>-</p>

<blockquote>
  <blockquote>
    <p>最后，介绍下<code class="highlighter-rouge">pom.xml</code>文件，这个实际上，不算是MVC 所仅有的。但是，作为一个maven项目，很多配置都比较关键，一般模块的<code class="highlighter-rouge">pom.xml</code>都比较简单，但是<code class="highlighter-rouge">	main</code>模块由于涉及编译成war包，并且针对不同的运行环境，对应打包的配置文件不同，因此，其内部配置会比较复杂。具体参考demo项目代码。</p>
  </blockquote>
</blockquote>

<h2 id="simplespringproject-数据操作实现介绍"><a id="DataOp">SimpleSpringProject 数据操作实现介绍</a></h2>

<p>整个项目代码都非常简单，不需要过多的去说明。在这里，对于初学者，需要介绍下，数据库相关的访问代码实现逻辑。</p>

<blockquote>
  <blockquote>
    <p>首先，定义一个接口，该接口里面会声明一些需要在	<code class="highlighter-rouge">sql</code>中去实现的方法名，如下所示：</p>
  </blockquote>
</blockquote>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * @author: tao.ke Date: 14-5-26 Time: 上午11:28
 * @version: \$Id$
 */</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">VersionDao</span> <span class="o">{</span>

    <span class="cm">/**
     * 根据id 查询对应的version信息
     * 
     * @param id
     * @return
     */</span>
    <span class="n">Version</span> <span class="nf">queryVersionById</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">"id"</span><span class="o">)</span> <span class="kt">int</span> <span class="n">id</span><span class="o">);</span>

    <span class="cm">/**
     * 查询所有的版本信息
     * 
     * @return
     */</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Version</span><span class="o">&gt;</span> <span class="nf">queryAllVersions</span><span class="o">();</span>

<span class="o">}</span>

</code></pre></div></div>

<blockquote>
  <blockquote>
    <p>当<code class="highlighter-rouge">dao</code>模块则存在了需要实现的接口，则接下来可以在<code class="highlighter-rouge">config</code>模块中去实现它，具体实现，如下所示：</p>
  </blockquote>
</blockquote>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;</span>
<span class="nt">&lt;mapper</span> <span class="na">namespace=</span><span class="s">"io.github.ketao1989.dao.VersionDao"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">"VersionMap"</span> <span class="na">type=</span><span class="s">"io.github.ketao1989.model.Version"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;id</span> <span class="na">column=</span><span class="s">"id"</span> <span class="na">property=</span><span class="s">"id"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;result</span> <span class="na">column=</span><span class="s">"id"</span> <span class="na">property=</span><span class="s">"id"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;result</span> <span class="na">column=</span><span class="s">"version_num"</span> <span class="na">property=</span><span class="s">"versionNum"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;result</span> <span class="na">column=</span><span class="s">"description"</span> <span class="na">property=</span><span class="s">"description"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;result</span> <span class="na">column=</span><span class="s">"update_time"</span> <span class="na">property=</span><span class="s">"updateTime"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/resultMap&gt;</span>

    <span class="nt">&lt;sql</span> <span class="na">id=</span><span class="s">"versionColumn"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;trim</span> <span class="na">suffix=</span><span class="s">""</span> <span class="na">suffixOverrides=</span><span class="s">","</span><span class="nt">&gt;</span>
            <span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">"versionNum != null"</span><span class="nt">&gt;</span>version_num,<span class="nt">&lt;/if&gt;</span>
            <span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">"description != null"</span><span class="nt">&gt;</span>description,<span class="nt">&lt;/if&gt;</span>
            <span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">"updateTime != null"</span><span class="nt">&gt;</span>update_time<span class="nt">&lt;/if&gt;</span>
        <span class="nt">&lt;/trim&gt;</span>
    <span class="nt">&lt;/sql&gt;</span>
    <span class="nt">&lt;sql</span> <span class="na">id=</span><span class="s">"versionValue"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;trim</span> <span class="na">suffix=</span><span class="s">""</span> <span class="na">suffixOverrides=</span><span class="s">","</span><span class="nt">&gt;</span>
            <span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">"versionNum != null"</span><span class="nt">&gt;</span>#{versionNum},<span class="nt">&lt;/if&gt;</span>
            <span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">"description != null"</span><span class="nt">&gt;</span>#{description},<span class="nt">&lt;/if&gt;</span>
            <span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">"updateTime != null"</span><span class="nt">&gt;</span>#{updateTime}<span class="nt">&lt;/if&gt;</span>
        <span class="nt">&lt;/trim&gt;</span>
    <span class="nt">&lt;/sql&gt;</span>

    <span class="c">&lt;!-- 根据id查询Version记录 --&gt;</span>
    <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"queryVersionById"</span> <span class="na">parameterType=</span><span class="s">"map"</span> <span class="na">resultMap=</span><span class="s">"VersionMap"</span><span class="nt">&gt;</span>
          select id,version_num,description,update_time
          from version
          where id = #{id}
    <span class="nt">&lt;/select&gt;</span>

    <span class="c">&lt;!-- 查询所有Version记录 --&gt;</span>
    <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"queryAllVersions"</span>  <span class="na">resultMap=</span><span class="s">"VersionMap"</span><span class="nt">&gt;</span>
          select id,version_num,description,update_time
          from version
    <span class="nt">&lt;/select&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>

</code></pre></div></div>

<blockquote>
  <blockquote>
    <p>Note：这样在<code class="highlighter-rouge">service</code>模块调用 <code class="highlighter-rouge">dao</code>模块的接口，就可以操作数据库了。当然，你在<code class="highlighter-rouge">applicationContext.xml</code>中需要配置下面一段代码：</p>
  </blockquote>
</blockquote>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- 创建SqlSessionFactory --&gt;</span>
    <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"sqlSessionFactory"</span> <span class="na">name=</span><span class="s">"sqlSessionFactory"</span>
          <span class="na">class=</span><span class="s">"org.mybatis.spring.SqlSessionFactoryBean"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"dataSource"</span> <span class="na">ref=</span><span class="s">"dataSource"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"configLocation"</span> <span class="na">value=</span><span class="s">"classpath:mybatis-config.xml"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/bean&gt;</span>

    <span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"basePackage"</span> <span class="na">value=</span><span class="s">"io.github.ketao1989.dao"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"sqlSessionFactoryBeanName"</span> <span class="na">value=</span><span class="s">"sqlSessionFactory"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/bean&gt;</span>

</code></pre></div></div>

<h2 id="小结"><a id="Finally">小结</a></h2>

<p>本文只是简单介绍了下<code class="highlighter-rouge">Spring MVC</code>项目的一些实现注意点，具体的代码实现，请参考本github上的<a href="https://github.com/ketao1989/simpleSpringProject">SimpleSpringProject</a> 。在demo代码的实现里面，如果你是一个初学者，你会发现更多需要注意的地方。如果你对于本项目的各个地方都能理解，并且可以仿照新建一个项目，那么你对于<code class="highlighter-rouge">Spring MVC</code>就已经入门了，可以深入框架源码来进一步学习了。</p>

<p>当然，作为一个提供初学者使用的<code class="highlighter-rouge">Spring MVC</code> web工程项目，该demo只是供学习使用而已。你也可以继续在该demo上扩展，增加更多地类，更多地业务和功能，从而完成一个商业大项目。</p>

        </article>
        <hr>

        
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
        

        <div class="post-recent">
    <div class="pre">
        
        <p><strong>上一篇</strong> <a href="/2014/05/24/Java-Fork-Join-Task-Framework-API-Introduce/">Java Fork&Join框架使用和实现分析</a></p>
        
    </div>
    <div class="nex">

        
        <p><strong>下一篇</strong> <a href="/2014/05/27/Jstat-GC-Guide-Introduce/">Java 查看系统GC命令介绍</a></p>
        
    </div>
</div>


        <h2 id="comments">Comments</h2>
        


<div id="disqus_thread"></div>
<script>
    /**
     * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */

    var disqus_config = function() {
        this.page.url = 'http://localhost:4000/2014/05/26/Spring-MVC-Project-Introduction/'; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://localhost:4000/2014/05/26/Spring-MVC-Project-Introduction/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };

    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document,
            s = d.createElement('script');

        s.src = '//taocoder.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>




    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    Content
                </div>
                <ul id="content-side" class="content-ul">
                    
                    <li><a href="#comments">Comments</a></li>
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <!-- <div class="side">bbbb</div> -->
        </div>
    </div>
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
             本站保留着一点点技术积蓄！ 
        </p>
        <p class="contact">
            Contact me at: 
            <a href="https://github.com/ketao1989" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a>  
            <a href="mailto:ketao1989@126.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>  
            <a href="http://weibo.com/柯小小西" title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a>       
        </p>
        <p>
            本站总访问量<span id="busuanzi_value_site_pv"></span>次，本站访客数<span id="busuanzi_value_site_uv"></span>人次，本文总阅读量<span id="busuanzi_value_page_pv"></span>次
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
            <span>
                Theme designed by <a href="https://github.com/Gaohaoyang">HyG</a>.
            </span>
        </p>
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" data-scroll>
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/smooth-scroll.min.js " charset="utf-8"></script>
    <script type="text/javascript">
      smoothScroll.init({
        speed: 500, // Integer. How fast to complete the scroll in milliseconds
        easing: 'easeInOutCubic', // Easing pattern to use
        offset: 20, // Integer. How far to offset the scrolling anchor location in pixels
      });
    </script>
    <!-- <script src=" /js/scroll.min.js " charset="utf-8"></script> -->
  </body>

</html>
